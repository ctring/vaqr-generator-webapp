<!doctype html>
<html>
<head>
  <title>VAQR Generator</title>
  <!--
  Flask automatically makes files in the 'static' directory available via
  '/static'.
  -->
  <link rel="stylesheet" type="text/css" href="/static/main.css">
  <script src="/static/jquery-3.2.1.min.js"></script>
</head>
<body>
  <h1>VAQR Generator</h1>
  <div>
    <form action="/generate" id="emailsForm">
      <textarea rows="10"  cols="50" placeholder="Enter each email on one line" 
                name="emails" form="emailsForm"></textarea>
      <br>
      <input type="submit" value="Generate">
    </form>
  <div>
  <div id="log"></div>
  <script>
    $("#emailsForm").submit(event => {
      event.preventDefault();
      var $form = $("#emailsForm"),
        data = $form.serialize(),
        url = $form.attr("action");
      console.log(data);
      $.post(url, data)
       .done((data, textStatus) => {
          $("#log").append("<p>" + textStatus + ": " + data + "</p>");
       });
    })
  </script>
</body>
</html>